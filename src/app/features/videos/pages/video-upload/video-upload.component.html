<h2>{{ editMode ? '✏️ Editar vídeo' : '📤 Subir nuevo vídeo' }}</h2>

<form [formGroup]="uploadForm" (ngSubmit)="submit()" style="margin-bottom: 2rem;">
  <mat-form-field appearance="outline" style="width: 100%;">
    <mat-label>Título</mat-label>
    <input matInput formControlName="title" />
  </mat-form-field>

  <mat-form-field appearance="outline" style="width: 100%;">
    <mat-label>Descripción</mat-label>
    <input matInput formControlName="description" />
  </mat-form-field>

  <mat-form-field appearance="outline" style="width: 100%;">
    <mat-label>Cinturón</mat-label>
    <mat-select formControlName="belt">
      <mat-option *ngFor="let belt of beltOptions" [value]="belt">{{ belt | titlecase }}</mat-option>
    </mat-select>
  </mat-form-field>

  <input type="file" (change)="onFileChange($event)" accept="video/mp4" />

<button mat-raised-button color="primary" type="submit" style="margin-top: 1rem;">
  {{ editMode ? 'Actualizar vídeo' : 'Subir vídeo' }}
</button>
</form>

<h3>🎬 Vídeos subidos</h3>

<div *ngFor="let video of uploadedVideos" style="margin-bottom: 2rem;">
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ video.title }}</mat-card-title>
      <mat-card-subtitle>Cinturón: {{ video.belt }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <p>{{ video.description }}</p>
      <video width="100%" controls>
        <source [src]="video.url" type="video/mp4" />
        Tu navegador no soporta el vídeo.
      </video>
    </mat-card-content>
  </mat-card>
</div>
